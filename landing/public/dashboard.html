<!DOCTYPE html>
<html lang="en" class="bg-gray-100">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex flex-col">
  
  <!-- Header -->
  <header class="flex justify-between items-center p-6 bg-blue-500">
    <h1 class="text-3xl font-semibold text-gray-50">Your Dashboard</h1>
    {% if user.name or user.given_name %}
      <p class="text-gray-50">Welcome, {{ user.name or user.given_name }} ðŸ‘‹</p>
    {% endif %}
    <a href="/logout">
      <button class="bg-gray-50 text-blue-500 font-semibold px-4 py-2 rounded shadow-md hover:bg-gray-100">
        Logout
      </button>
    </a>
  </header>

  <!-- Main content -->
  <main class="flex-grow p-6 space-y-12 max-w-4xl m-auto">
    <!-- Greeting Section -->
    <section class="bg-blue-100 p-6 rounded-md shadow-md">
      <h2 class="text-2xl font-semibold">
        ðŸ‘‹ Hello, {{ user.name or user.given_name or '' }} 
      </h2>
      <p class="text-gray-700 mt-2">Hereâ€™s a quick view of your activity</p>
    </section>

    <!-- History Section -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">Processing History</h2>
      {% if files %}
        <ul class="bg-gray-50 p-4 rounded-md shadow-md space-y-2">
          {% for f in files %}
            <li class="p-2 rounded-md bg-gray-100 shadow-md">
              <span>{{ f.filename }}</span> â€” processed at {{ f.processed_at }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-gray-500">No files processed yet.</p>
      {% endif %}
    </section>

    <!-- Image Upload Section -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">Process a Blurred Image</h2>
      <form action="/process-image" method="POST" enctype="multipart/form-data" class="bg-gray-50 p-6 rounded-md shadow-md space-y-4">
        <input 
          type="file" 
          name="file" 
          aria-label="Select blurred image to process"
          class="block w-full p-2 border border-gray-300 rounded-md"
          required
        />
        <button 
          type="submit" 
          class="bg-blue-500 hover:bg-blue-600 text-gray-50 px-4 py-2 rounded shadow-md">
          Process Image
        </button>
      </form>
    </section>

  </main>

  <!-- Footer -->
  <footer class="p-6 text-gray-500 text-center">
    &copy; 2025 Enhance.
  </footer>

</body>
</html>
